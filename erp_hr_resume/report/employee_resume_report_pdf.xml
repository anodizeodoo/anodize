<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <report
            id="hr_employee_print_resume"
            string="Curriculum Vitae"
            model="hr.employee"
            report_type="qweb-pdf"
            file="hr_resume.print_employee_resume"
            name="hr_resume.print_employee_resume"
            print_report_name="'Curriculum Vitae - %s' % (object.name).replace('/', '')"
    />

    <template id="print_employee_resume">
        <t t-call="web.html_container">
            <t t-call="web.internal_layout">
                <style>
                    thead { display: table-header-group }
                    tfoot { display: table-row-group }
                    tr { page-break-inside: avoid }
                    .employee-resume table {font-size: 11px;}
                </style>
                <div class="page employee-resume">
                    <t t-foreach="docs" t-as="employee">
                        <h3 class="mb32">CURRICULUM VITAE</h3>
                        <div class="col-md-6">
                            <table>
                                <td valign="center">
                                    <table style="width:77pt; height:150pt">
                                        <tr style="height:70%;">
                                            <td align="center" valign="center">
                                                <img t-if="employee.image" t-att-src="image_data_uri(employee.image)"
                                                     style="max-height:85pt;max-width:90%" alt="Employee Image"/>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                                <td valign="center">
                                    <div style="font-size:15pt; margin-bottom:0pt;margin-top:0pt;"
                                         align="center">
                                        <t t-esc="employee.name"/>
                                        <br/>
                                        <t t-if="employee.job_id">[<t t-esc="employee.job_id.name"/>]
                                        </t>
                                    </div>
                                </td>
                            </table>
                        </div>
                        <h3 t-if="employee.academic_ids">Experiencia académica</h3>
                        <table class="table table-sm" t-if="employee.academic_ids">
                            <thead>
                                <tr>
                                    <th>Experiencia Académica</th>
                                    <th>Institución</th>
                                    <th>Certificado</th>
                                    <th>Campo de estudio</th>
                                    <th>Fecha de inicio</th>
                                    <th>Fecha final</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr t-foreach="employee.academic_ids" t-as="academic">
                                    <td>
                                        <span t-esc="academic.name"/>
                                    </td>
                                    <td>
                                        <span t-esc="academic.partner_id.name"/>
                                    </td>
                                    <td>
                                        <span t-esc="academic.diploma"/>
                                    </td>
                                    <td>
                                        <span t-esc="academic.study_field"/>
                                    </td>
                                    <td>
                                        <span t-esc="academic.start_date"/>
                                    </td>
                                    <td>
                                        <span t-esc="academic.end_date"/>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <h3 t-if="employee.experience_ids">Experiencias profesionales</h3>
                        <table class="table table-sm" t-if="employee.experience_ids">
                            <thead>
                                <tr>
                                    <th>Posición</th>
                                    <th>Entidad emisora</th>
                                    <th>Fecha inicio</th>
                                    <th>Fecha fin</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr t-foreach="employee.experience_ids" t-as="experience">
                                    <td>
                                        <span t-esc="experience.name"/>
                                    </td>
                                    <td>
                                        <span t-esc="experience.partner_id.name"/>
                                    </td>
                                    <td>
                                        <span t-esc="experience.start_date"/>
                                    </td>
                                    <td>
                                        <span t-esc="experience.end_date"/>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <h3 t-if="employee.certification_ids">Certificaciones</h3>
                        <table class="table table-sm" t-if="employee.certification_ids">
                            <thead>
                                <tr>
                                    <th>Certificación</th>
                                    <th>Nro. Certificado</th>
                                    <th>Publicador por</th>
                                    <th>Fecha de inicio</th>
                                    <th>Expirado</th>
                                    <th>Fecha final</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr t-foreach="employee.certification_ids" t-as="certification">
                                    <td>
                                        <span t-esc="certification.name"/>
                                    </td>
                                    <td>
                                        <span t-esc="certification.certification"/>
                                    </td>
                                    <td>
                                        <span t-esc="certification.partner_id.name"/>
                                    </td>
                                    <td>
                                        <span t-esc="certification.start_date"/>
                                    </td>
                                    <td>
                                        <t t-if="certification.expire">
                                            <span>Si</span>
                                        </t>
                                        <t t-else="">
                                            <span>No</span>
                                        </t>
                                    </td>
                                    <td>
                                        <span t-esc="certification.end_date"/>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </t>
                </div>
            </t>
        </t>
    </template>


</odoo>
